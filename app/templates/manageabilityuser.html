<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">
    <title>能力提升管理</title>
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <script src="../static/js/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <script src="https://cdn.staticfile.org/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <link href="../static/css/dashboard.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <script src="http://code.highcharts.com/highcharts.js"></script>
    <link rel="stylesheet" href="../static/layui/css/layui.css" />
    <script type="text/javascript" src="../static/layui/layui.js"></script>

    <link rel="stylesheet" href="../static/bootstrap-multiselect/css/bootstrap-multiselect.css" type="text/css"/>
    <script type="text/javascript" src="../static/bootstrap-multiselect/js/bootstrap-multiselect.js"></script>
    <style type="text/css">
        .table>tbody>tr>td {
            vertical-align: middle;
            text-align: center;
        }
        .table>thead>tr>th {
            vertical-align: middle;
            text-align: center;
        }
        .dropdown-menu li{
            text-align: left;
            padding-left: 10px;
        }
        .box{
            width: 600px;
            height: 500px;
            border:1px solid black;
            position: absolute;
            background: #FFF;
            display: none;
            top: 15%;
            left:20%;
            overflow:scroll;
        }
        {#搜索平铺样式#}
        #filter
        {
            height:auto;
            margin-left:auto;
            margin-right:auto;
        }
        #filter dl
        {
            padding:0;
            margin-top:0;
            margin-bottom:10px;
            clear:both;
            padding:4px 0;
            font-size: 18px;
        }
        #filter dt,dd
        {
            display:block;
            float:left;
            width:auto;
            padding:0;
            margin:3px 0;
        }
        #filter dt
        {
            height:115px;
            color:#333333;
            width: 80px;
        }
        #filter dd
        {
            color: #005cbf;
            margin-right:18px;
        }
        #filter a
        {
            cursor:pointer;
        }
    </style>
</head>

<body>
<nav class="navbar navbar-expand-lg navbar-dark fixed-top" role="navigation" style="height: 50px; background: #01AAED">
    <div class="container-fluid" style="">
        <div class="navbar-header" style="width: 100%">
            <a class="navbar-brand" href="#" style="padding-top: 8px; color: whitesmoke">北京市林学会科普基地管理信息系统</a>
            <div class="dropdown" style="float: right">
                <ul class="nav navbar-nav navbar-right ml-auto" style="padding: 12px 0;">
                    <li><a href="#" style="color: whitesmoke">欢迎您：{{ username }} </a></li>
                    <li class="nav-item dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="color: whitesmoke;padding-left: 15px">用户中心 <span class="caret"></span></a>
                        <ul class="dropdown-menu" style="margin-top: 12px;right: -30px;left: unset;">
                            <li><a href="#" style="color: #9d9d9d;font-size: 10px"><i class="fa fa-user-md" aria-hidden="true"></i> 用户类型：管理员</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="#" style="color: #9d9d9d;font-size: 10px"><i class="fa fa-user" aria-hidden="true"></i> 用户账号：{{ username }}</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="{{url_for('main.login')}}" style="color: #9d9d9d;font-size: 10px"><i class="fa fa-sign-out" aria-hidden="true"></i> 退出</a></li>
                            <li role="separator" class="divider"></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</nav>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-2">
            <div class="nav sidebar nav-sidebar" style="padding: 0 0 0 20px; width: 15%">
               <div class="position-sticky pt-3">
                    <ul class="nav flex-column" style="padding: 0 0 0 20px; ">
                        <li class="nav-item">
                            <a class="a" aria-current="page" href="{{url_for('main.manage')}}">
                              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-door" viewBox="0 0 16 16">
                                  <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"></path>
                              </svg>&nbsp;&nbsp;首页
                            </a>
                        </li>
                        <li class="nav-item" style="margin-top: 15px">
                            <a class="a">
                            <div style="display: inline">
                                 <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tree" viewBox="0 0 16 16">
                                    <path d="M8.416.223a.5.5 0 0 0-.832 0l-3 4.5A.5.5 0 0 0 5 5.5h.098L3.076 8.735A.5.5 0 0 0 3.5 9.5h.191l-1.638 3.276a.5.5 0 0 0 .447.724H7V16h2v-2.5h4.5a.5.5 0 0 0 .447-.724L12.31 9.5h.191a.5.5 0 0 0 .424-.765L10.902 5.5H11a.5.5 0 0 0 .416-.777l-3-4.5zM6.437 4.758A.5.5 0 0 0 6 4.5h-.066L8 1.401 10.066 4.5H10a.5.5 0 0 0-.424.765L11.598 8.5H11.5a.5.5 0 0 0-.447.724L12.69 12.5H3.309l1.638-3.276A.5.5 0 0 0 4.5 8.5h-.098l2.022-3.235a.5.5 0 0 0 .013-.507z"></path>
                                </svg>&nbsp;&nbsp;活动管理
                              <p style="display: inline" class="indicator" id="indicator1">^</p>
                            </div>
                            </a>
                            <ul class="ul" style="margin-top: 15px; padding-left: 15px;display: none">
                                <li class="nav-item">
                                    <a class="nav-link" href="{{url_for('main.manageactivityadd')}}">
                                      发布活动
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="{{url_for('main.manageactivity')}}">
                                      活动记录
                                    </a>
                                </li>
                            </ul>
                        </li>

                        <li class="nav-item" style="margin-top: 15px">
                            <a class="a">
                            <div style="display: inline">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-vector-pen" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M10.646.646a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708l-1.902 1.902-.829 3.313a1.5 1.5 0 0 1-1.024 1.073L1.254 14.746 4.358 4.4A1.5 1.5 0 0 1 5.43 3.377l3.313-.828L10.646.646zm-1.8 2.908l-3.173.793a.5.5 0 0 0-.358.342l-2.57 8.565 8.567-2.57a.5.5 0 0 0 .34-.357l.794-3.174-3.6-3.6z"></path>
                                    <path fill-rule="evenodd" d="M2.832 13.228L8 9a1 1 0 1 0-1-1l-4.228 5.168-.026.086.086-.026z"></path>
                                </svg>&nbsp;&nbsp;申报任务管理
                              <p style="display: inline" class="indicator" id="indicator1">^</p>
                            </div>
                            </a>
                            <ul class="ul" style="margin-top: 15px; padding-left: 15px;display: none">
                                <li class="nav-item">
                                    <a class="nav-link" href="{{url_for('main.managedeclareuser')}}">
                                      已申报用户
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="{{url_for('main.managedeclareadd_new')}}">
                                      申报任务添加
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="{{url_for('main.managedeclareadd')}}">
                                      申报任务记录
                                    </a>
                                </li>
                            </ul>
                        </li>

                       <li class="nav-item" style="margin-top: 15px">
                            <a class="a">
                            <div style="display: inline">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trophy" viewBox="0 0 16 16">
                                    <path d="M2.5.5A.5.5 0 0 1 3 0h10a.5.5 0 0 1 .5.5c0 .538-.012 1.05-.034 1.536a3 3 0 1 1-1.133 5.89c-.79 1.865-1.878 2.777-2.833 3.011v2.173l1.425.356c.194.048.377.135.537.255L13.3 15.1a.5.5 0 0 1-.3.9H3a.5.5 0 0 1-.3-.9l1.838-1.379c.16-.12.343-.207.537-.255L6.5 13.11v-2.173c-.955-.234-2.043-1.146-2.833-3.012a3 3 0 1 1-1.132-5.89A33.076 33.076 0 0 1 2.5.5zm.099 2.54a2 2 0 0 0 .72 3.935c-.333-1.05-.588-2.346-.72-3.935zm10.083 3.935a2 2 0 0 0 .72-3.935c-.133 1.59-.388 2.885-.72 3.935zM3.504 1c.007.517.026 1.006.056 1.469.13 2.028.457 3.546.87 4.667C5.294 9.48 6.484 10 7 10a.5.5 0 0 1 .5.5v2.61a1 1 0 0 1-.757.97l-1.426.356a.5.5 0 0 0-.179.085L4.5 15h7l-.638-.479a.501.501 0 0 0-.18-.085l-1.425-.356a1 1 0 0 1-.757-.97V10.5A.5.5 0 0 1 9 10c.516 0 1.706-.52 2.57-2.864.413-1.12.74-2.64.87-4.667.03-.463.049-.952.056-1.469H3.504z"></path>
                                </svg>&nbsp;&nbsp;能力提升培训管理
                              <p style="display: inline" class="indicator" id="indicator1">^</p>
                            </div>
                            </a>
                            <ul class="ul" style="margin-top: 15px; padding-left: 15px">
                                 <li class="nav-item">
                                    <a class="nav-link" href="{{url_for('main.manageabilityuser')}}">
                                      已申报用户
                                    </a>
                                 </li>
                                 <li class="nav-item">
                                    <a class="nav-link" href="{{url_for('main.manageabilityadd_new')}}">
                                      能力提升培训添加
                                    </a>
                                 </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="{{url_for('main.manageabilityadd')}}">
                                      能力提升培训记录
                                    </a>
                                 </li>
                            </ul>
                        </li>

                        <li class="nav-item" style="margin-top: 15px">
                            <a class="a" href="{{url_for('main.manageuser')}}">
                              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
                                    <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"></path>
                                </svg>&nbsp;&nbsp;用户管理
                            </a>
                        </li>

                        <li class="nav-item" style="margin-top: 20px">
                            <a class="a" href="{{url_for('main.manageexamine')}}">
                              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calculator" viewBox="0 0 16 16">
                                    <path d="M12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h8zM4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4z"></path>
                                    <path d="M4 2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-2zm0 4a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-4z"></path>
                                </svg>&nbsp;&nbsp;考核管理
                            </a>
                        </li>

                        <li class="nav-item" style="margin-top: 20px">
                            <a class="a" href="{{url_for('main.managereportuser')}}">
                               <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
                                    <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"></path>
                                </svg>&nbsp;&nbsp;报告管理
                            </a>
                        </li>

                        <li class="nav-item" style="margin-top: 15px">
                            <a class="a" href="{{url_for('main.managesystem')}}">
                               <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
                                    <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"></path>
                                    <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"></path>
                                </svg>&nbsp;&nbsp;系统设置
                            </a>
                        </li>
                    </ul>
               </div>
            </div>
        </div>

        <div class="col-md-10 col-md-offset-2 main ml-auto" style="margin-top: 50px">
            <h2 class="sub-header">能力提升培训申请列表</h2>
            <br>
             {#选择检索平铺#}
            <div id="display-select" style="margin-left: 80px;display: none">
                 <input id="select-show" type="text" class="form-control" style="width: 150px;float:left">
                 <button id="delete-show" class="input-group-text" style="width: 35px;float: left">x</button>
            </div>
            {#检索平铺#}
            <div id="filter">
                <dl>
                    <dt>状态：</dt>
                    <dd><div><a href="#" id="sta_1" style="color: #005cbf">未通过</a></div></dd>
                    <dd><div><a href="#" id="sta_2" style="color: #005cbf">已通过</a></div></dd>
                    <dd><div><a href="#" id="sta_3" style="color: #005cbf">申报被驳回</a></div></dd>
                    <dd><div><a href="#" id="sta_4" style="color: #005cbf">申报未通过且申请培训过期</a></div></dd>
                    <dd><div><a href="#" id="sta_5" style="color: #005cbf">申报已通过但申请培训过期</a></div></dd>
                    <dd><div><a href="#" id="sta_6" style="color: #005cbf">申请被驳回且申请培训过期</a></div></dd>
                    <dd><div><a href="#" id="sta_7" style="color: #005cbf">用户被删除且申请未通过</a></div></dd>
                    <dd><div><a href="#" id="sta_8" style="color: #005cbf">申请已通过但用户被删除</a></div></dd>
                    <dd><div><a href="#" id="sta_9" style="color: #005cbf">申请被驳回且用户被删除</a></div></dd>
                    <dd><div><a href="#" id="sta_10" style="color: #005cbf">申请未通过且申请培训过期且用户被删除</a></div></dd>
                    <dd><div><a href="#" id="sta_11" style="color: #005cbf">申请已通过且申请培训过期且用户被删除</a></div></dd>
                    <dd><div><a href="#" id="sta_12" style="color: #005cbf">申请被驳回且申请培训过期且用户被删除</a></div></dd>
                    <dd><div><a href="#" id="sta_13" style="color: #005cbf">培训未启用</a></div></dd>
                </dl>
            </div>
            <br>
            <br>
                {#添加搜索栏#}
                <div class="form-group">
                     <div class="input-group col-xs-12">
                        <div class="input-group-btn">
                            <select  class="selectpicker form-control" style="width: auto;" id="search_select" multiple="multiple">
                                <option value="用户名">用户名</option>
                                <option value="培训任务名">培训任务名</option>
                                <option value="提交时间">提交时间</option>
                                <option value="状态">状态</option>
                            </select>
                         </div>
                           <input type="text"  id="keyword" class="form-control" placeholder="请输入检索信息(若检索项为多个，按表格列由左向右输入检索项，且用英文逗号相隔)">
                            <span class="input-group-btn">
                                <button class="btn btn-dark" id="search_all" type="submit">检索</button>
                            </span>
                        </div>
                   <br>
                  </div>
                <div class="table-responsive">
                    <form action="/"></form>
                    <table class="table table-bordered table-hover" id="table">
                        <thead>
                            <tr class="table-info">
                                <th>序号</th>
                                <th>用户名</th>
                                <th>培训任务名</th>
                                <th>提交时间</th>
                                <th>状态</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody id="tableText">
                        </tbody>
                    </table>
                    <nav aria-label="Page navigation">
                        <ul class="pagination justify-content-end" id="page-li">
                        </ul>
                    </nav>
                </div>

            <!-- 查看模态框 #lookModal -->
            <div class="modal fade" id="look_modal_div" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header" style="border-bottom: none">
                            <h4 class="modal-title" style="text-align: center;font-size: 30px">能力提升培训详情</h4>
                        </div>
                        <div class="modal-body">
                            <form id="show" enctype='multipart/form-data'>
                                <table class="table table-light">
                                    <tbody>
                                    <tr class="table-info">
                                      <td><label for="user_name" class="control-label" style="font-size:16px">用户:</label></td>
                                      <td><p id="user_name" style="display: inline;width: 450px;font-size:16px"></p></td>
                                    </tr>
                                    <tr class="table-success">
                                      <td><label for="train_uptime" class="control-label" style="font-size:16px">提交时间:</label></td>
                                      <td><p id="train_uptime" style="display: inline;width: 450px;font-size:16px"></p></td>
                                    </tr>
                                    <tr class="table-info">
                                      <td><label for="train_pdf" class="control-label" style="font-size:16px">PDF文件:</label></td>
                                      <td><p id="train_pdf" style="display: inline;width: 450px;font-size:16px"></p></td>
                                    </tr>
                                    <tr class="table-success">
                                      <td><label for="train_word" class="control-label" style="font-size:16px">word文件:</label></td>
                                      <td><p id="train_word" style="display: inline;width: 450px;font-size:16px"></p></td>
                                    </tr>
                                    <tr class="table-info">
                                      <td><label for="train_image" class="control-label" style="font-size:16px">图片:</label></td>
                                      <td><p id="train_image" style="display: inline;width: 450px;font-size:16px"></p></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </form>
                        </div>
                        <div class="modal-footer" id="div_butt" style="border-top: none">
{#                            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>#}
                        </div>
                    </div>
                </div>
            </div>

            {#modal模式框：当管理员点击驳回按钮时再次确认#}
            <div class="modal fade" id="reject_modal_list" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body">确定驳回？</div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                                <button type="button" class="btn btn-default" id="reject_modal_list_sure" data-dismiss="modal">确定</button>
                            </div>
                        </div>
                    </div>
            </div>
            <div class="modal fade" id="reject_modal_div" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body">确定驳回？</div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                                <button type="button" class="btn btn-default" id="reject_modal_div_sure" data-dismiss="modal">确定</button>
                            </div>
                        </div>
                    </div>
            </div>
             {#modal模式框：当管理员点击通过按钮时再次确认#}
            <div class="modal fade" id="pass_modal_list" >
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body">确定通过？</div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                                <button type="button" class="btn btn-default" id="pass_modal_list_sure">确定</button>
                            </div>
                        </div>
                    </div>
            </div>
            <div class="modal fade" id="pass_modal_div" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body">确定通过？</div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                                <button type="button" class="btn btn-default" id="pass_modal_div_sure" data-dismiss="modal">确定</button>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
        </div>
</div>

<script>


var acquire=new Array(10);
var pass;
var reject;
var new_ac_pass_id;
var get_test1=0;
var cookie_push = [];
var get_cookie_push = [];
var get_array=0;
var dpage;
var pages;
var username;
var px_name;
var uptime;
var status;
var status_num;
var status_show_;
var status_;
{#前后端交互：从后端数据库获取列表数据以及分页处理#}
$(document).ready(function(){
    let per_page=10;
    let d_per_page=10;
    let idz=new Array(10);
    init();
    {#菜单栏#}
    $(".a").click(function(){
        $(this).next(".ul").toggle().closest(".nav-item").siblings(".nav-item").children("ul").hide();
    })
    {#检索平铺操作#}
    $(document).on("click","#sta_1",function () {
        $("#display-select").show();
        let status_1 = $("#sta_1").text() //选择平铺内容
        $("#select-show").val(status_1) //放在input框
    })
    $(document).on("click","#sta_2",function () {
        $("#display-select").show();
        let status_2 = $("#sta_2").text() //选择平铺内容
        $("#select-show").val(status_2) //放在input框
    })
    $(document).on("click","#sta_3",function () {
        $("#display-select").show();
        let status_3 = $("#sta_3").text() //选择平铺内容
        $("#select-show").val(status_3) //放在input框
    })
    $(document).on("click","#sta_4",function () {
        $("#display-select").show();
        let status_4 = $("#sta_4").text() //选择平铺内容
        $("#select-show").val(status_4) //放在input框
    })
    $(document).on("click","#sta_5",function () {
        $("#display-select").show();
        let status_5 = $("#sta_5").text() //选择平铺内容
        $("#select-show").val(status_5) //放在input框
    })
    $(document).on("click","#sta_6",function () {
        $("#display-select").show();
        let status_6 = $("#sta_6").text() //选择平铺内容
        $("#select-show").val(status_6) //放在input框
    })
    $(document).on("click","#sta_7",function () {
        $("#display-select").show();
        let status_7 = $("#sta_7").text() //选择平铺内容
        $("#select-show").val(status_7) //放在input框
    })
    $(document).on("click","#sta_8",function () {
        $("#display-select").show();
        let status_8 = $("#sta_8").text() //选择平铺内容
        $("#select-show").val(status_8) //放在input框
    })
    $(document).on("click","#sta_9",function () {
        $("#display-select").show();
        let status_9 = $("#sta_9").text() //选择平铺内容
        $("#select-show").val(status_9) //放在input框
    })
    $(document).on("click","#sta_10",function () {
        $("#display-select").show();
        let status_10 = $("#sta_10").text() //选择平铺内容
        $("#select-show").val(status_10) //放在input框
    })
    $(document).on("click","#sta_11",function () {
        $("#display-select").show();
        let status_11 = $("#sta_11").text() //选择平铺内容
        $("#select-show").val(status_11) //放在input框
    })
    $(document).on("click","#sta_12",function () {
        $("#display-select").show();
        let status_12 = $("#sta_12").text() //选择平铺内容
        $("#select-show").val(status_12) //放在input框
    })
    $(document).on("click","#sta_13",function () {
        $("#display-select").show();
        let status_13 = $("#sta_13").text() //选择平铺内容
        $("#select-show").val(status_13) //放在input框
    })
    $(document).on("click","#delete-show",function () {
        $("#select-show").val("") //清空input值
        $("#display-select").css("display","none");
    })
    {#实现检索操作#}
    $(document).on("click","#search_all",function () {
        {#获取选择的检索内容#}
        let select_content = $("#search_select").val()
        let input_content = $("#keyword").val()
        if(select_content.length < 2){
            if(select_content.length == 0){
                alert("请选择需要检索的列名")
            }
            else{
                if(select_content == "用户名"){
                    username = input_content
                 }
                if(select_content == "培训任务名"){
                    px_name = input_content
                }
                if(select_content == "提交时间"){
                    uptime = input_content
                }
                if(select_content == "状态"){
                    status = input_content
                    if(status == "未通过"){
                        status_ = 0;
                     }
                    if(status == "已通过"){
                        status_ = 1;
                     }
                    if(status == "申请被驳回"){
                        status_ = 2;
                     }
                    if(status == "申报未通过且申请培训过期"){
                        status_ = 10;
                     }
                    if(status == "申报已通过但申请培训过期"){
                        status_ = 11;
                     }
                    if(status == "申请被驳回且申请培训过期"){
                        status_ = 12;
                     }
                    if(status == "用户被删除且申请未通过"){
                        status_ = 20;
                     }
                    if(status == "申请已通过但用户被删除"){
                        status_ = 21;
                     }
                    if(status == "申请被驳回且用户被删除"){
                        status_ = 22;
                     }
                    if(status == "申请未通过且申请培训过期且用户被删除"){
                        status_ = 30;
                     }
                    if(status == "申请已通过且申请培训过期且用户被删除"){
                        status_ = 31;
                     }
                    if(status == "申请被驳回且申请培训过期且用户被删除"){
                        status_ = 32;
                     }
                    if(status == "培训未启用"){
                        status_ = 4;
                     }
                }
            }

        }
        else{
            input_content = input_content.split(",")
            for(let i=0;i<select_content.length;i++){
                let content = select_content[i]
                if(content == "用户名"){
                    username = input_content[i]
                }
                if(content == "培训任务名"){
                    px_name = input_content[i]
                }
                if(content == "提交时间"){
                    uptime = input_content[i]
                }
                if(content == "状态"){
                    status = input_content[i]
                    if(status == "未通过"){
                        status_ = 0;
                     }
                    if(status == "已通过"){
                        status_ = 1;
                     }
                    if(status == "申请被驳回"){
                        status_ = 2;
                     }
                    if(status == "申报未通过且申请培训过期"){
                        status_ = 10;
                     }
                    if(status == "申报已通过但申请培训过期"){
                        status_ = 11;
                     }
                    if(status == "申请被驳回且申请培训过期"){
                        status_ = 12;
                     }
                    if(status == "用户被删除且申请未通过"){
                        status_ = 20;
                     }
                    if(status == "申请已通过但用户被删除"){
                        status_ = 21;
                     }
                    if(status == "申请被驳回且用户被删除"){
                        status_ = 22;
                     }
                    if(status == "申请未通过且申请培训过期且用户被删除"){
                        status_ = 30;
                     }
                    if(status == "申请已通过且申请培训过期且用户被删除"){
                        status_ = 31;
                     }
                    if(status == "申请被驳回且申请培训过期且用户被删除"){
                        status_ = 32;
                     }
                    if(status == "培训未启用"){
                        status_ = 4;
                     }
                }
            }
        }
        {#刷新页面#}
        init();
    });
    function init() {
        {#初始化搜索栏#}
        $(".selectpicker").multiselect({nonSelectedText: '选择搜索列',allSelectedText: '已全选',buttonWidth: '150px'});
        if ($.cookie("cookie_push") != undefined) {
            get_cookie_push = $.cookie("cookie_push");
            get_array = get_cookie_push.split(",")
            console.log("get_array=", get_array)
        }
        {#dpage：应该是表示第几页
        pages：应该是表示总共的页数
        d_per_page:总共有多少条数据
        idz:存储每条数据的id#}
        {#let dpage=1;#}
        {#let pages=1;#}
        let per_page = 10;
        let d_per_page = 10;
        let idz = new Array(10);
        console.log("px_name=",px_name)
        $.ajax({
            type: 'GET',
            url: './searchabilityuser',
            data: {'page': 1, 'per_page': per_page, 'username': username,'name':px_name,'uptime': uptime,'status':status_},
            dataType: 'json',
            async: false,
            cache: false,
            contentType: 'application/json',
            success: function (data) {
                pages = data.zpage;
                let total = data.total;
                dpage = data.dpage;
                let activity = data.item;
                let str = "";
                d_per_page = data.item.length;
                for (let index = 0; index < data.item.length; index++) {
                    idz[index] = data.item[index].id;
                    {#查看按钮：获取列表中的序号number,将列表中的number作为acquire数组的index#}
                    let acquire_number;
                    acquire_number = data.item[index].number;
                    acquire_number_look = 'look' + acquire_number;
                    acquire[acquire_number_look] = data.item[index].id;
                    {#驳回按钮：获取id#}
                    let reject_id;
                    reject_id = data.item[index].id;
                    {#通过按钮获取通过按钮的id#}
                    let acquire_id;
                    acquire_id = data.item[index].id;
                    {#获取状态num值#}
                    status_num = data.item[index].status
                    if(status_num == 0){
                        status_show_ = "未通过";
                     }
                    if(status_num == 1){
                        status_show_ = "已通过";
                     }
                    if(status_num == 2){
                        status_show_ = "申请被驳回";
                     }
                    if(status_num == 10){
                        status_show_ = "申报未通过且申请培训过期";
                     }
                    if(status_num == 11){
                        status_show_ = "申报已通过但申请培训过期";
                     }
                    if(status_num == 12){
                        status_show_ = "申请被驳回且申请培训过期";
                     }
                    if(status_num == 20){
                        status_show_ = "用户被删除且申请未通过";
                     }
                    if(status_num == 21){
                        status_show_ = "申请已通过但用户被删除";
                     }
                    if(status_num == 22){
                        status_show_ = "申请被驳回且用户被删除";
                     }
                    if(status_num == 30){
                        status_show_ = "申请未通过且申请培训过期且用户被删除";
                     }
                    if(status_num == 31){
                        status_show_ = "申请已通过且申请培训过期且用户被删除";
                     }
                    if(status_num == 32){
                        status_show_ = "申请被驳回且申请培训过期且用户被删除";
                     }
                    if(status_num == 4){
                        status_show_ = "培训未启用";
                     }
                    str += "<tr><td>" + data.item[index].number +
                        "</td><td>" + data.item[index].username +
                        "</td><td>" + data.item[index].name +
                        {#"</td><td>" + data.item[index].begintime +#}
                        {#"</td><td>" + data.item[index].endtime +#}
                        "</td><td>" + data.item[index].uptime +
                        "</td><td>" + status_show_ +
                        "</td><td>" + "<input type='button' class='btn btn-primary btn-sm' id='look" + acquire_number + "' value=查看>"
                        + "<input type='button' class='btn btn-warning btn-sm' id='reject" + reject_id + "' value=驳回>"
                        + "<input type='button' class='btn btn-success btn-sm' id='pass" + acquire_id + "' value=通过 >" + "</tr>";

                }
                $("#tableText").html(str);
                for (let i = 0; i < get_array.length; i++) {
                    $(get_array[i]).attr('disabled', "true")
                }
                let strli = "<li class='page-item'><a href='#' class='page-link' id='prev'>前一页</a></li>";
                strli += "<li class='page-item'><a id=li" + 1 + " href='#' class='page-link'>" + 1 + "</a></li>";
                for (let index = 2; index <= pages; index++) {
                    strli += "<li class='page-item'><a id=li" + index + " href='#' class='page-link'>" + index + "</a></li>"
                }
                strli += "<li class='page-item'><a href='#' class='page-link' id='next'>后一页</a></li>";
                $("#page-li").html(strli);
                let s = "#li" + dpage;
                $(s).css("border-color", "blue");
                if (dpage < pages) {
                    let r = dpage + 1;
                    let rs = "#li" + r;
                    $(rs).css("border-left-color", "blue");
                } else {
                    $("#next").css("border-left-color", "blue");
                }
            }
        });
    }
        $('#page-li').on('click',"#prev",function(){
            if($.cookie("cookie_push")!=undefined) {
                 get_cookie_push = $.cookie("cookie_push");
                 get_array = get_cookie_push.split(",")
                 console.log("get_array=",get_array)
            }
            if(dpage==1){
                alert("该页是第一页！");
            }else{
                let s="#li"+dpage;
                $(s).css("border-color","");
                if(dpage<pages){
                    let r2=dpage+1;
                    let rs2="#li"+r2;
                    $(rs2).css("border-left-color","");
                }else{
                    $("#next").css("border-left-color","");
                }
                $.ajax({
                    type:'GET',
                    url:'./searchabilityuser',
                    data:{'page':dpage-1,'per_page':per_page,'username': username,'name':px_name,'uptime': uptime,'status':status_},
                    dataType:'json',
                    async: false,
                    cache: false,
                    contentType: 'application/json',
                    success:function(data){
                        pages = data.zpage;
                        let total = data.total;
                        dpage = data.dpage;
                        let activity = data.item;
                        let str="";
                        d_per_page=data.item.length;
                        for (let index = 0; index < d_per_page; index++) {
                            idz[index]=data.item[index].id;
                            {#查看按钮：获取列表中的序号number,将列表中的number作为acquire数组的index#}
                            let acquire_number;
                            acquire_number = data.item[index].number;
                            acquire_number_look = 'look'+acquire_number;
                            acquire[acquire_number_look]=data.item[index].id;
                            {#驳回按钮：获取id#}
                            let reject_id;
                            reject_id = data.item[index].id;
                            {#通过按钮获取通过按钮的id#}
                            let acquire_id;
                            acquire_id=data.item[index].id;
                            {#获取状态num值#}
                            status_num = data.item[index].status
                            if(status_num == 0){
                                status_show_ = "未通过";
                             }
                            if(status_num == 1){
                                status_show_ = "已通过";
                             }
                            if(status_num == 2){
                                status_show_ = "申请被驳回";
                             }
                            if(status_num == 10){
                                status_show_ = "申报未通过且申请培训过期";
                             }
                            if(status_num == 11){
                                status_show_ = "申报已通过但申请培训过期";
                             }
                            if(status_num == 12){
                                status_show_ = "申请被驳回且申请培训过期";
                             }
                            if(status_num == 20){
                                status_show_ = "用户被删除且申请未通过";
                             }
                            if(status_num == 21){
                                status_show_ = "申请已通过但用户被删除";
                             }
                            if(status_num == 22){
                                status_show_ = "申请被驳回且用户被删除";
                             }
                            if(status_num == 30){
                                status_show_ = "申请未通过且申请培训过期且用户被删除";
                             }
                            if(status_num == 31){
                                status_show_ = "申请已通过且申请培训过期且用户被删除";
                             }
                            if(status_num == 32){
                                status_show_ = "申请被驳回且申请培训过期且用户被删除";
                             }
                            if(status_num == 4){
                                status_show_ = "培训未启用";
                             }
                            str += "<tr><td>" + data.item[index].number +
                            "</td><td>" + data.item[index].username +
                            "</td><td>" + data.item[index].name +
                            {#"</td><td>" + data.item[index].begintime +#}
                            {#"</td><td>" + data.item[index].endtime +#}
                            "</td><td>" + data.item[index].uptime +
                            "</td><td>" + status_show_ +
                            "</td><td>"+ "<input type='button' class='btn btn-primary btn-sm' id='look"+acquire_number+"' value=查看>"
                             + "<input type='button' class='btn btn-warning btn-sm' id='reject"+reject_id+"' value=驳回>"
                             +"<input type='button' class='btn btn-success btn-sm' id='pass"+acquire_id+"' value=通过 >"+ "</tr>";
                        }
                        $("#tableText").html(str);
                        for(let i =0;i<get_array.length;i++) {
                             $(get_array[i]).attr('disabled', "true")
                        }
                        let s="#li"+dpage;
                        $(s).css("border-color","blue");
                        if(dpage<pages){
                            let r=dpage+1;
                            let rs="#li"+r;
                            $(rs).css("border-left-color","blue");
                        }else{
                            $("#next").css("border-left-color","blue");
                        }
                    }
                });
            }
        });

        $('#page-li').on('click',"#next",function(){
            if($.cookie("cookie_push")!=undefined) {
                 get_cookie_push = $.cookie("cookie_push");
                 get_array = get_cookie_push.split(",")
                 console.log("get_array=",get_array)
            }
            if(dpage==pages){
                alert("该页是最后一页！");
            }else{
                let s="#li"+dpage;
                $(s).css("border-color","");
                if(dpage<pages){
                    let r2=dpage+1;
                    let rs2="#li"+r2;
                    $(rs2).css("border-left-color","");
                }else{
                    $("#next").css("border-left-color","");
                }
                $.ajax({
                    type:'GET',
                    url:'./searchabilityuser',
                    data:{'page':dpage+1,'per_page':per_page,'username': username,'name':px_name,'uptime': uptime,'status':status_},
                    dataType:'json',
                    async: false,
                    cache: false,
                    contentType: 'application/json',
                    success:function(data){
                        pages = data.zpage;
                        let total = data.total;
                        dpage = data.dpage;
                        let activity = data.item;
                        let str="";
                        d_per_page=data.item.length;
                        for (let index = 0; index < d_per_page; index++) {
                            idz[index]=data.item[index].id;
                            {#查看按钮：获取列表中的序号number,将列表中的number作为acquire数组的index#}
                            let acquire_number;
                            acquire_number = data.item[index].number;
                            acquire_number_look = 'look'+acquire_number;
                            acquire[acquire_number_look]=data.item[index].id;
                            {#驳回按钮：获取id#}
                            let reject_id;
                            reject_id = data.item[index].id;
                            {#通过按钮获取通过按钮的id#}
                            let acquire_id;
                            acquire_id=data.item[index].id;
                            {#获取状态num值#}
                            status_num = data.item[index].status
                            if(status_num == 0){
                                status_show_ = "未通过";
                             }
                            if(status_num == 1){
                                status_show_ = "已通过";
                             }
                            if(status_num == 2){
                                status_show_ = "申请被驳回";
                             }
                            if(status_num == 10){
                                status_show_ = "申报未通过且申请培训过期";
                             }
                            if(status_num == 11){
                                status_show_ = "申报已通过但申请培训过期";
                             }
                            if(status_num == 12){
                                status_show_ = "申请被驳回且申请培训过期";
                             }
                            if(status_num == 20){
                                status_show_ = "用户被删除且申请未通过";
                             }
                            if(status_num == 21){
                                status_show_ = "申请已通过但用户被删除";
                             }
                            if(status_num == 22){
                                status_show_ = "申请被驳回且用户被删除";
                             }
                            if(status_num == 30){
                                status_show_ = "申请未通过且申请培训过期且用户被删除";
                             }
                            if(status_num == 31){
                                status_show_ = "申请已通过且申请培训过期且用户被删除";
                             }
                            if(status_num == 32){
                                status_show_ = "申请被驳回且申请培训过期且用户被删除";
                             }
                            if(status_num == 4){
                                status_show_ = "培训未启用";
                             }
                            str += "<tr><td>" + data.item[index].number +
                            "</td><td>" + data.item[index].username +
                            "</td><td>" + data.item[index].name +
                            {#"</td><td>" + data.item[index].begintime +#}
                            {#"</td><td>" + data.item[index].endtime +#}
                            "</td><td>" + data.item[index].uptime +
                            "</td><td>" + status_show_ +
                            "</td><td>"+ "<input type='button' class='btn btn-primary btn-sm' id='look"+acquire_number+"' value=查看>"
                             + "<input type='button' class='btn btn-warning btn-sm' id='reject"+reject_id+"' value=驳回>"
                             +"<input type='button' class='btn btn-success btn-sm' id='pass"+acquire_id+"' value=通过 >"+ "</tr>";
                        }
                        $("#tableText").html(str);
                        for(let i =0;i<get_array.length;i++) {
                             $(get_array[i]).attr('disabled', "true")
                        }
                        let s="#li"+dpage;
                        $(s).css("border-color","blue");
                        if(dpage<pages){
                            let r=dpage+1;
                            let rs="#li"+r;
                            $(rs).css("border-left-color","blue");
                        }else{
                            $("#next").css("border-left-color","blue");
                        }
                    }
                });
            }
        });
        {#点击那一页就显示哪一页的数据#}
        for(let index=1;index<=pages;index++){
            let s="#li"+index;
            $('#page-li').on('click',s,function(){
                if($.cookie("cookie_push")!=undefined) {
                      get_cookie_push = $.cookie("cookie_push");
                      get_array = get_cookie_push.split(",")
                      console.log("get_array=",get_array)
                }
                let s2="#li"+dpage;
                $(s2).css("border-color","");
                if(dpage<pages){
                    let r2=dpage+1;
                    let rs2="#li"+r2;
                    $(rs2).css("border-left-color","");
                }else{
                    $("#next").css("border-left-color","");
                }
                $.ajax({
                    type:'GET',
                    url:'./searchabilityuser',
                    data:{'page':index,'per_page':per_page,'username': username,'name':px_name,'uptime': uptime,'status':status_},
                    dataType:'json',
                    async: false,
                    cache: false,
                    contentType: 'application/json',
                    success:function(data){
                        pages = data.zpage;
                        let total = data.total;
                        dpage = data.dpage;
                        let activity = data.item;
                        let str="";
                        d_per_page=data.item.length;
                        for (let index = 0; index < data.item.length; index++) {
                            idz[index]=data.item[index].id;
                            {#查看按钮：获取列表中的序号number,将列表中的number作为acquire数组的index#}
                            let acquire_number;
                            acquire_number = data.item[index].number;
                            acquire_number_look = 'look'+acquire_number;
                            acquire[acquire_number_look]=data.item[index].id;
                            {#驳回按钮：获取id#}
                            let reject_id;
                            reject_id = data.item[index].id;
                            {#通过按钮获取通过按钮的id#}
                            let acquire_id;
                            acquire_id=data.item[index].id;
                            {#获取状态num值#}
                            status_num = data.item[index].status
                            if(status_num == 0){
                                status_show_ = "未通过";
                             }
                            if(status_num == 1){
                                status_show_ = "已通过";
                             }
                            if(status_num == 2){
                                status_show_ = "申请被驳回";
                             }
                            if(status_num == 10){
                                status_show_ = "申报未通过且申请培训过期";
                             }
                            if(status_num == 11){
                                status_show_ = "申报已通过但申请培训过期";
                             }
                            if(status_num == 12){
                                status_show_ = "申请被驳回且申请培训过期";
                             }
                            if(status_num == 20){
                                status_show_ = "用户被删除且申请未通过";
                             }
                            if(status_num == 21){
                                status_show_ = "申请已通过但用户被删除";
                             }
                            if(status_num == 22){
                                status_show_ = "申请被驳回且用户被删除";
                             }
                            if(status_num == 30){
                                status_show_ = "申请未通过且申请培训过期且用户被删除";
                             }
                            if(status_num == 31){
                                status_show_ = "申请已通过且申请培训过期且用户被删除";
                             }
                            if(status_num == 32){
                                status_show_ = "申请被驳回且申请培训过期且用户被删除";
                             }
                            if(status_num == 4){
                                status_show_ = "培训未启用";
                             }
                            str += "<tr><td>" + data.item[index].number +
                            "</td><td>" + data.item[index].username +
                            "</td><td>" + data.item[index].name +
                            {#"</td><td>" + data.item[index].begintime +#}
                            {#"</td><td>" + data.item[index].endtime +#}
                            "</td><td>" + data.item[index].uptime +
                            "</td><td>" + status_show_ +
                            "</td><td>"+ "<input type='button' class='btn btn-primary btn-sm open' id='look"+acquire_number+"' value=查看>"
                            + "<input type='button' class='btn btn-warning btn-sm' id='reject"+reject_id+"' value=驳回>"
                            +"<input type='button' class='btn btn-success btn-sm' id='pass"+acquire_id+"' value=通过 >"+ "</tr>";
                        }
                        $("#tableText").html(str);
                        for(let i =0;i<get_array.length;i++) {
                             $(get_array[i]).attr('disabled', "true")
                        }
                        let s="#li"+dpage;
                        $(s).css("border-color","blue");
                        if(dpage<pages){
                            let r=dpage+1;
                            let rs="#li"+r;
                            $(rs).css("border-left-color","blue");
                        }else{
                            $("#next").css("border-left-color","blue");
                        }
                    }
                });
            });
        }
    });

var train_pdf = "";
var train_word = "";
var train_image = "";
{#操作中的查看详细信息弹窗#}
$(document).ready(function(){
   $(document).on("click",".btn-primary",function() {
        $("#train_pdf").html('');
        $("#train_word").html('');
        $("#train_image").html('');
        {#先给后端传id#}
        let user_number = $(this).attr('id');
        {#获取传递给后端的id#}
        let acquire_user_id = acquire[user_number];
        {#将查看的id传递给悬浮框的驳回键#}
        {#reject = acquire_user_id;#}
        {#将查看中的id传递给悬浮框中的通过键#}
        console.log("acquire_user_id=",acquire_user_id)
        {#pass = acquire_user_id;#}
        {#给div悬浮框添加取消和通过按钮#}
        let str_div = "";
        str_div +="<button class='btn btn-info btn-lg delete' id='close_delete' style='margin-left: 80px'>取消</button>"
                {#+"<button type='submit' class='btn btn-default btn-lg open_reject' id='reject_two"+reject+"' style='margin-left: 80px' data-toggle=\"modal\" data-target=\"#reject_modal_div\">驳回</button>"#}
            {#+"<button type='submit' class='btn btn-default btn-lg pass' id='pass_two"+pass+"' style='margin-left: 80px' data-toggle=\"modal\" data-target=\"#pass_modal_div\">通过</button>";#}
        $('#div_butt').html(str_div);
         $.ajax({
            type:'GET',
            url:'./detailabilityuser',
            data:{'id':acquire_user_id},
            dataType:'json',
            async: false,
            cache: false,
            contentType: 'application/json',
            success:function(data){
                {#let train_name = data.name;#}
                {#let train_main = data.main;#}
                let user_name = data.username;
                let train_uptime = data.uptime;
                let data_pdf = data.pdf;
                let data_word = data.word;
                let data_image = data.image;
                {#$("#train_name").text(train_name);#}
                {#$("#train_main").text(train_main);#}
                $("#user_name").text(user_name);
                $("#train_uptime").text(train_uptime);
                if (data_pdf.length == 0){
                    $("#train_pdf").text("此用户没有上传pdf");
                }
                else{
                    for(var i=0;i<data_pdf.length;i++){
                        train_pdf = data_pdf[i].newname;
                        {#$("#train_pdf").append("<a href='/data/pdf/"+train_pdf+"'>"+train_pdf+"</a>");#}
                        $("#train_pdf").append("<a href='"+data_pdf[i].path+"'>"+train_pdf+"</a>");
                        $("#train_pdf").append("<p></p>")
                     }

                }
                if (data_word.length == 0){
                    $("#train_word").text("此用户没有上传word");
                }
                else{
                   for(var j=0;j<data_word.length;j++){
                        train_word =  data_word[j].newname;
                        {#$("#train_word").append("<a href='/data/word/"+train_word+"'>"+train_word+"</a>");#}
                        $("#train_word").append("<a href='"+data_word[j].path+"'>"+train_word+"</a>");
                        $("#train_word").append("<p></p>")
                     }

                }
                if(data_image.length == 0 ){
                    $("#train_image").text("此用户没有上传word");
                }
                else{
                    for(var k=0;k<data_image.length;k++){
                        train_image =  data_image[k].newname;
                        {#$("#train_image").append("<a href='/data/image/"+train_image+"'>"+train_image+"</a>")#}
                        $("#train_image").append("<a href='"+data_image[k].path+"'>"+train_image+"</a>")
                        $("#train_image").append("<p></p>")
                     }
                }
            }
        });
         $("#look_modal_div").modal('show')
         return false;
    });
     {#操作中的驳回键的modal确认框#}
     $(document).on("click",".btn-warning",function () {
         let reject_id = $(this).attr("id")
         reject_id = reject_id.split("reject")
         reject_id = reject_id.pop()
         $("#reject_modal_list_sure").attr("data-id",reject_id)
         $("#reject_modal_list").modal('show')
     });
     {#操作中的驳回键交互#}
     $(document).on("click","#reject_modal_list_sure",function () {
        let reject_id = $(this).attr("data-id")
        $.ajax({
            type: 'GET',
            url: './bhabilityuser',
            data: {'id': reject_id},
            dataType: 'json',
            async: false,
            cache: false,
            contentType: 'application/json',
            success: function (result) {
                console.log('result', result)
                display_reject(result.status);
            }
        })
     });
     function display_reject(status){
        if(status==true){
            msg="驳回操作成功！";
        }else{
            msg="驳回操作失败！";
        }
        $(document).ready(function(){
            setTimeout(function(){
                alert(msg)
            },1000)
      });
    }
     {#操作中的通过键的modal确认框#}
     $(document).on("click",".btn-success",function() {
        {#先给后端传id#}
        let ac_pass_id = $(this).attr('id');
        new_ac_pass_id = ac_pass_id.split("pass");
        new_ac_pass_id = new_ac_pass_id.pop();
        $("#pass_modal_list").modal("show");
        return false
    });
     {#操作中的通过键交互#}
     $(document).on("click","#pass_modal_list_sure",function() {
        $("#pass_modal_list").modal("hide");
        $.ajax({
            type: 'GET',
            url: './tgabilityuser',
            data: {'id': new_ac_pass_id},
            dataType: 'json',
            async: false,
            cache: false,
            contentType: 'application/json',
            success: function (result) {
                console.log("result=", result);
                display_alert(result.status);
            }
        })
      {# 实现通过键的disabled#}
        if($.cookie("cookie_push")!=undefined) {
             let test_pass = $.cookie("cookie_push");
             if(cookie_push.length == 0){
                 cookie_push.push(test_pass)
             }
         }
         let pass_t ="#pass"+new_ac_pass_id;
         let reject_t = "#reject"+new_ac_pass_id;
         cookie_push.push(pass_t)
         cookie_push.push(reject_t)
         $(pass_t).attr('disabled',"true")
         $(reject_t).attr('disabled',"true")
         {#设置cookie来记住通过的id#}
         $.cookie(
            "cookie_push",
             cookie_push,
            { expires: 1});

    });
     function display_alert(status){
        if(status==true){
            msg="已通过！";
        }else{
            msg="通过失败！";
        }
        {#创建一个div，显示msg，显示后再移除该div#}
        $(document).ready(function(){
            setTimeout(function(){
                alert(msg)
            },1000)
      });
    }
    {#实现查看按钮中的取消键#}
    $(document).on("click","#close_delete",function() {
        $("#look_modal_div").modal('hide')
        return false;
    });

});
</script>
</body>